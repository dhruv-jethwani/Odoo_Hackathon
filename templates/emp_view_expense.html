{% extends "base.html" %}
{% block content %}

<div class="min-h-screen bg-gradient-to-br from-gray-900 via-black to-purple-900 text-white px-4 py-8">
    <div class="max-w-5xl mx-auto">

        <h1 class="text-3xl font-bold mb-6">My Expenses</h1>

        <div class="bg-[#181818] shadow-2xl rounded-xl p-4 overflow-x-auto">
            <table class="w-full text-left border-collapse">
                <thead>
                    <tr class="border-b border-zinc-700">
                        <th class="p-2">ID</th>
                        <th class="p-2">Description</th>
                        <th class="p-2">Amount</th>
                        <th class="p-2">Date</th>
                        <th class="p-2">Status</th>
                    </tr>
                </thead>
                <tbody>
                    {% if approvals %}
                        {% for a in approvals %}
                        <tr class="border-b border-zinc-700">
                            <td class="p-2">{{ a.id }}</td>
                            <td class="p-2">{{ a.description or '-' }}</td>
                            <td class="p-2">{{ a.amount or '-' }}</td>
                            <td class="p-2">{{ a.created_at[:10] if a.created_at else '-' }}</td>
                            <td class="p-2">
                                {% if a.status == 'Approved' or a.status == 'approved' %}
                                    <span class="text-green-400 font-semibold">{{ a.status }}</span>
                                {% elif a.status == 'Pending' or a.status == 'pending' %}
                                    <span class="text-yellow-400 font-semibold">{{ a.status }}</span>
                                {% elif a.status == 'Rejected' or a.status == 'rejected' %}
                                    <span class="text-red-500 font-semibold">{{ a.status }}</span>
                                {% else %}
                                    {{ a.status }}
                                {% endif %}
                                {% if a.receipt_filename %}
                                    <div class="mt-1"><a href="/static/uploads/{{ a.receipt_filename }}" class="text-sm text-violet-400">View receipt</a></div>
                                {% endif %}
                            </td>
                        </tr>
                        {% endfor %}
                    {% else %}
                        <tr>
                            <td colspan="5" class="p-4 text-center text-gray-600">No expenses submitted yet.</td>
                        </tr>
                    {% endif %}
                </tbody>
            </table>
        </div>

    </div>
</div>

{% endblock %}
