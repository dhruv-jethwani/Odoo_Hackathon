{% extends "base.html" %}
{% block content %}

<div class="min-h-screen bg-gradient-to-br from-gray-900 via-black to-purple-900 text-white px-4 py-8">
    <div class="max-w-3xl mx-auto bg-[#181818] rounded-xl shadow-2xl p-6">

        <h1 class="text-3xl font-bold mb-6">Submit New Expense</h1>

        <!-- enctype added for file upload -->
        <form method="POST" action="/employee/submit" enctype="multipart/form-data" class="flex flex-col gap-4">

            <!-- Hidden email: use session-derived email if available -->
            {% if current_user_email %}
                <input type="hidden" name="email" value="{{ current_user_email }}" />
            {% endif %}

            <!-- Description -->
            <div class="flex flex-col gap-1">
                <label class="text-sm font-medium">Description</label>
                <input type="text" name="description" placeholder="Business lunch"
                    class="p-2 rounded-md border border-zinc-700 bg-[#141414] focus:ring-2 focus:ring-violet-500 outline-none">
            </div>

            <!-- Category -->
            <div class="flex flex-col gap-1">
                <label class="text-sm font-medium">Category</label>
                <select name="category"
                    class="p-2 rounded-md border border-zinc-700 bg-[#141414] focus:ring-2 focus:ring-violet-500 outline-none">
                    <option value="">-- Select Category --</option>
                    <option value="Travel">Travel</option>
                    <option value="Food">Food</option>
                    <option value="Accommodation">Accommodation</option>
                    <option value="Office Supplies">Office Supplies</option>
                    <option value="Other">Other</option>
                </select>
            </div>

            <!-- Amount -->
            <div class="flex flex-col gap-1">
                <label class="text-sm font-medium">Amount</label>
                <input type="number" step="0.01" name="amount" placeholder="50"
                    class="p-2 rounded-md border border-zinc-700 bg-[#141414] focus:ring-2 focus:ring-violet-500 outline-none">
            </div>

            <!-- Currency -->
            <div class="flex flex-col gap-1">
                <label class="text-sm font-medium">Currency</label>
                <select name="currency"
                    class="p-2 rounded-md border border-zinc-700 bg-[#141414] focus:ring-2 focus:ring-violet-500 outline-none">
                    <option value="USD">USD ($)</option>
                    <option value="EUR">EUR (€)</option>
                    <option value="INR">INR (₹)</option>
                    <option value="GBP">GBP (£)</option>
                    <option value="JPY">JPY (¥)</option>
                </select>
            </div>

            <!-- Date -->
            <div class="flex flex-col gap-1">
                <label class="text-sm font-medium">Date</label>
                <input type="date" name="date"
                    class="p-2 rounded-md border border-zinc-700 bg-[#141414] focus:ring-2 focus:ring-violet-500 outline-none">
            </div>

            <!-- Remark -->
            <div class="flex flex-col gap-1">
                <label class="text-sm font-medium">Remark</label>
                <textarea name="remark" rows="3" placeholder="Any notes about this expense..."
                    class="p-2 rounded-md border border-zinc-700 bg-[#141414] focus:ring-2 focus:ring-violet-500 outline-none"></textarea>
            </div>

            <!-- File Upload -->
            <div class="flex flex-col gap-1">
                <label class="text-sm font-medium">Upload Receipt</label>
                <input type="file" name="receipt"
                    accept="image/*,.pdf"
                    class="p-2 rounded-md border border-zinc-700 bg-[#141414] file:mr-3 file:py-1 file:px-3 file:rounded-md file:border-0 file:bg-violet-600 file:text-white hover:file:bg-violet-700">
            </div>

            <!-- Submit -->
            <button type="submit"
                class="bg-violet-500 hover:bg-violet-600 transition-all duration-300 text-white font-semibold p-2 rounded-md mt-4">
                Submit Expense
            </button>

        </form>

    </div>
</div>

{% endblock %}
